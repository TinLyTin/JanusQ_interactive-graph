<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JanuQ Financial Projection (Updated 2025-2029)</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>JanuQ Financial Projection (2025-2029)</h1>
    <div id="plotly-div"></div>

    <script>
        function calculateTrendline(xValues, yValues) {
            let n = yValues.length;
            let sumX = 0, sumY = 0, sumXY = 0, sumXX = 0;

            for (let i = 0; i < n; i++) {
                sumX += xValues[i];
                sumY += yValues[i];
                sumXY += xValues[i] * yValues[i];
                sumXX += xValues[i] * xValues[i];
            }

            let slope = (n * sumXY - sumX * sumY) / (n * sumXX - sumX * sumX);
            let intercept = (sumY - slope * sumX) / n;

            let trendline = xValues.map(x => slope * x + intercept);
            return trendline;
        }

        // Define your x-values as years converted to numbers
        var xValues = [2025, 2026, 2027, 2028, 2029];

        var totalRevenue = [597900, 1195800, 2751600, 5187200, 10478500];
        var totalRevenueTrendline = calculateTrendline(xValues, totalRevenue);

        var courseRevenue = [398000, 796000, 1832000, 3108000, 5980000];
        var courseRevenueTrendline = calculateTrendline(xValues, courseRevenue);

        var subscriptionRevenue = [199900, 399800, 919600, 2079200, 4498500];
        var subscriptionRevenueTrendline = calculateTrendline(xValues, subscriptionRevenue);

        var totalCosts = [333200, 331500, 431000, 528500, 593000];
        var totalCostsTrendline = calculateTrendline(xValues, totalCosts);

        var profit = [264700, 864300, 2320600, 4658700, 9885500];
        var profitTrendline = calculateTrendline(xValues, profit);

        var data = [
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: totalRevenue,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Total Revenue ($)',
                line: {color: 'purple'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: totalRevenueTrendline,
                type: 'scatter',
                mode: 'lines',
                name: 'Total Revenue Trendline',
                line: {color: 'purple', dash: 'dash'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: courseRevenue,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Course Revenue ($)',
                line: {color: 'blue'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: courseRevenueTrendline,
                type: 'scatter',
                mode: 'lines',
                name: 'Course Revenue Trendline',
                line: {color: 'blue', dash: 'dash'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: subscriptionRevenue,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Subscription Revenue ($)',
                line: {color: 'orange'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: subscriptionRevenueTrendline,
                type: 'scatter',
                mode: 'lines',
                name: 'Subscription Revenue Trendline',
                line: {color: 'orange', dash: 'dash'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: totalCosts,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Total Costs ($)',
                line: {color: 'red'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: totalCostsTrendline,
                type: 'scatter',
                mode: 'lines',
                name: 'Total Costs Trendline',
                line: {color: 'red', dash: 'dash'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: profit,
                type: 'scatter',
                mode: 'lines+markers',
                name: 'Profit ($)',
                line: {color: 'green'}
            },
            {
                x: ["2025", "2026", "2027", "2028", "2029"],
                y: profitTrendline,
                type: 'scatter',
                mode: 'lines',
                name: 'Profit Trendline',
                line: {color: 'green', dash: 'dash'}
            }
        ];

        var layout = {
            title: 'JanuQ 5-Year Financial Projection (Updated 2025-2029)',
            xaxis: {
                title: 'Year',
                tickvals: ["2025", "2026", "2027", "2028", "2029"],
                ticktext: ["2025", "2026", "2027", "2028", "2029"]
            },
            yaxis: {
                title: 'Amount ($ Millions)',
                tickformat: ".2f"
            }
        };

        Plotly.newPlot('plotly-div', data, layout);
    </script>
</body>
</html>
